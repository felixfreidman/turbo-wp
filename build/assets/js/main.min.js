"use strict";function closeAppliedForm(){var e=document.getElementById("closeAppliedForm"),t=document.getElementById("closeAppliedFormButton");e.addEventListener("click",function(){darkLayer.classList.toggle("js--hidden")}),t.addEventListener("click",function(){darkLayer.classList.toggle("js--hidden")})}function inputAuthorization(){document.querySelectorAll(".form-input").forEach(function(e){var t;e.value||(t=addWarningEmptySpan(),e.classList.add("form-input--warning"),e=e.id,document.querySelector("[for=".concat(e,"]")).appendChild(t))})}function addWarningEmptySpan(){var e=document.createElement("span");return e.classList.add("empty--input"),e}function deleteWarningSpans(){document.querySelectorAll(".form-input").forEach(function(t){t.addEventListener("input",function(){var e=t.id,e=document.querySelector("[for=".concat(e,"]"));e.querySelector(".empty--input")&&(e.querySelector(".empty--input").remove(),t.classList.remove("form-input--warning"))})})}$(function(){$("#applyForm").on("submit",function(e){e.preventDefault();var t=$("#userName").val(),n=$("#userPhone").val(),i=$("#userCompany").val(),e=$("#userArea").val();$.ajax({type:"post",url:"/wp-admin/admin-ajax.php",data:{action:"ajax_form",name:t,phone:n,company:i,area:e},success:function(e){$(".dark-layer").html(e),closeAppliedForm()}})})}),$(".form-button").on("click",function(){inputAuthorization()}),deleteWarningSpans();var _darkLayer2,_applyBtns,_closeForm,_applyFormScreen,_burgerMenu,_mobileMenu,header,stickTheMenu,unStickTheMenu,activateTheListPoints,diactivateAllListPoints,_darkLayer,applyBtns,closeForm,applyFormScreen,burgerMenu,mobileMenu,allFAQs,mobileNavigation,allLinks,sectionList,sectionMenu,sectionAbilities,firstMenuPoint,secondMenuPoint,thirdMenuPoint,fourthMenuPoint,fifthMenuPoint,firstListPoint,secondListPoint,thirdListPoint,fourthListPoint,fifthListPoint,sectionListOffset,sectionAbilitiesOffset,firstMenuPointOffset,secondMenuPointOffset,thirdMenuPointOffset,fourthMenuPointOffset,fifthMenuPointOffset,windowLocation=window.location.href;console.log(windowLocation),windowLocation.includes("privacy")?(_darkLayer2=document.querySelector(".dark-layer"),_applyBtns=document.querySelectorAll(".apply-btn"),_closeForm=document.getElementById("closeForm"),_applyFormScreen=document.getElementById("applyForm"),_burgerMenu=document.querySelector(".mobile-header__burger-menu"),_mobileMenu=document.querySelector(".mobile-menu"),header=document.querySelector(".header"),_applyBtns.forEach(function(e){e.addEventListener("click",function(){_darkLayer2.classList.toggle("js--hidden")})}),_closeForm.addEventListener("click",function(){_darkLayer2.classList.toggle("js--hidden")}),_burgerMenu.addEventListener("click",function(){_burgerMenu.classList.toggle("mobile-header__burger-menu--active"),_mobileMenu.classList.toggle("mobile-menu--active"),document.querySelector("body").classList.toggle("disable-body")}),$(document).ready(function(){$("#userPhone").inputmask()}),header.classList.add("header--dark")):(stickTheMenu=function(){window.pageYOffset>=sectionListOffset?(sectionList.classList.add("sticky"),sectionMenu.classList.add("menuPosition")):(sectionList.classList.remove("sticky"),sectionMenu.classList.remove("menuPosition"))},unStickTheMenu=function(){window.pageYOffset>sectionAbilitiesOffset-350&&(sectionList.classList.remove("sticky"),sectionMenu.classList.remove("menuPosition"))},activateTheListPoints=function(){window.pageYOffset>=firstMenuPointOffset-100?firstListPoint.classList.add("list-item--active"):window.pageYOffset<=fourthMenuPointOffset&&firstListPoint.classList.remove("list-item--active"),window.pageYOffset>=fifthMenuPointOffset-100?fifthListPoint.classList.add("list-item--active"):window.pageYOffset<=fifthMenuPointOffset&&fifthListPoint.classList.remove("list-item--active"),window.pageYOffset>=secondMenuPointOffset-100?secondListPoint.classList.add("list-item--active"):window.pageYOffset<=fourthMenuPointOffset&&secondListPoint.classList.remove("list-item--active"),window.pageYOffset>=thirdMenuPointOffset-100?thirdListPoint.classList.add("list-item--active"):window.pageYOffset<=fourthMenuPointOffset&&thirdListPoint.classList.remove("list-item--active"),window.pageYOffset>=fourthMenuPointOffset-100?fourthListPoint.classList.add("list-item--active"):window.pageYOffset<=fourthMenuPointOffset&&fourthListPoint.classList.remove("list-item--active")},diactivateAllListPoints=function(){var e=document.querySelectorAll(".list-item");console.log(e),e.forEach(function(e){e.classList.remove("list-item--active")})},_darkLayer=document.querySelector(".dark-layer"),applyBtns=document.querySelectorAll(".apply-btn"),closeForm=document.getElementById("closeForm"),applyFormScreen=document.getElementById("applyForm"),burgerMenu=document.querySelector(".mobile-header__burger-menu"),mobileMenu=document.querySelector(".mobile-menu"),allFAQs=document.querySelectorAll(".faq-block"),allLinks=(mobileNavigation=document.getElementById("mobileNavigation")).querySelectorAll(".navigation-link"),applyBtns.forEach(function(e){e.addEventListener("click",function(){_darkLayer.classList.toggle("js--hidden")})}),closeForm.addEventListener("click",function(){_darkLayer.classList.toggle("js--hidden")}),burgerMenu.addEventListener("click",function(){burgerMenu.classList.toggle("mobile-header__burger-menu--active"),mobileMenu.classList.toggle("mobile-menu--active"),document.querySelector("body").classList.toggle("disable-body")}),allLinks.forEach(function(e){e.addEventListener("click",function(){burgerMenu.classList.toggle("mobile-header__burger-menu--active"),mobileMenu.classList.toggle("mobile-menu--active"),document.querySelector("body").classList.toggle("disable-body")})}),$(document).ready(function(){$("#userPhone").inputmask()}),allFAQs.forEach(function(e){e.addEventListener("click",function(){e.classList.toggle("faq-block--active")})}),window.onscroll=function(){stickTheMenu(),unStickTheMenu(),activateTheListPoints()},sectionList=document.getElementById("sectionList"),sectionMenu=document.getElementById("sectionMenu"),sectionAbilities=document.getElementById("toOffer"),firstMenuPoint=document.getElementById("firstMenuPoint"),secondMenuPoint=document.getElementById("secondMenuPoint"),thirdMenuPoint=document.getElementById("thirdMenuPoint"),fourthMenuPoint=document.getElementById("fourthMenuPoint"),fifthMenuPoint=document.getElementById("fifthMenuPoint"),firstListPoint=document.getElementById("firstListPoint"),secondListPoint=document.getElementById("secondListPoint"),thirdListPoint=document.getElementById("thirdListPoint"),fourthListPoint=document.getElementById("fourthListPoint"),fifthListPoint=document.getElementById("fifthListPoint"),sectionListOffset=sectionList.offsetTop,sectionAbilitiesOffset=sectionAbilities.offsetTop,firstMenuPointOffset=firstMenuPoint.offsetTop,secondMenuPointOffset=secondMenuPoint.offsetTop,thirdMenuPointOffset=thirdMenuPoint.offsetTop,fourthMenuPointOffset=fourthMenuPoint.offsetTop,fifthMenuPointOffset=fifthMenuPoint.offsetTop);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFqYXguanMiLCJjb21tb24uanMiXSwibmFtZXMiOlsiY2xvc2VBcHBsaWVkRm9ybSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjbG9zZUFwcGxpZWRGb3JtQnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRhcmtMYXllciIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImlucHV0QXV0aG9yaXphdGlvbiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiaW5wdXQiLCJzcGFuIiwidmFsdWUiLCJhZGRXYXJuaW5nRW1wdHlTcGFuIiwiYWRkIiwiaW5wdXRJRCIsImlkIiwicXVlcnlTZWxlY3RvciIsImNvbmNhdCIsImFwcGVuZENoaWxkIiwid2FybmluZ0VtcHR5U3BhbiIsImNyZWF0ZUVsZW1lbnQiLCJkZWxldGVXYXJuaW5nU3BhbnMiLCJpbnB1dExhYmVsIiwicmVtb3ZlIiwiJCIsIm9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwibmFtZSIsInZhbCIsInBob25lIiwiY29tcGFueSIsImFyZWEiLCJhamF4IiwidHlwZSIsInVybCIsImRhdGEiLCJhY3Rpb24iLCJzdWNjZXNzIiwicmVzcG9uc2UiLCJodG1sIiwiYXBwbHlCdG5zIiwiY2xvc2VGb3JtIiwiYXBwbHlGb3JtU2NyZWVuIiwiYnVyZ2VyTWVudSIsIm1vYmlsZU1lbnUiLCJoZWFkZXIiLCJzdGlja1RoZU1lbnUiLCJ1blN0aWNrVGhlTWVudSIsImFjdGl2YXRlVGhlTGlzdFBvaW50cyIsImRpYWN0aXZhdGVBbGxMaXN0UG9pbnRzIiwiYWxsRkFRcyIsIm1vYmlsZU5hdmlnYXRpb24iLCJhbGxMaW5rcyIsInNlY3Rpb25MaXN0Iiwic2VjdGlvbk1lbnUiLCJzZWN0aW9uQWJpbGl0aWVzIiwiZmlyc3RNZW51UG9pbnQiLCJzZWNvbmRNZW51UG9pbnQiLCJ0aGlyZE1lbnVQb2ludCIsImZvdXJ0aE1lbnVQb2ludCIsImZpZnRoTWVudVBvaW50IiwiZmlyc3RMaXN0UG9pbnQiLCJzZWNvbmRMaXN0UG9pbnQiLCJ0aGlyZExpc3RQb2ludCIsImZvdXJ0aExpc3RQb2ludCIsImZpZnRoTGlzdFBvaW50Iiwic2VjdGlvbkxpc3RPZmZzZXQiLCJzZWN0aW9uQWJpbGl0aWVzT2Zmc2V0IiwiZmlyc3RNZW51UG9pbnRPZmZzZXQiLCJzZWNvbmRNZW51UG9pbnRPZmZzZXQiLCJ0aGlyZE1lbnVQb2ludE9mZnNldCIsImZvdXJ0aE1lbnVQb2ludE9mZnNldCIsImZpZnRoTWVudVBvaW50T2Zmc2V0Iiwid2luZG93TG9jYXRpb24iLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJjb25zb2xlIiwibG9nIiwiaW5jbHVkZXMiLCJidXR0b24iLCJyZWFkeSIsImlucHV0bWFzayIsInBhZ2VZT2Zmc2V0IiwibGlzdFBvaW5zdEFycmF5IiwicG9pbnQiLCJsaW5rIiwiZmFxIiwib25zY3JvbGwiLCJvZmZzZXRUb3AiXSwibWFwcGluZ3MiOiJhQStCQSxTQUFBQSxtQkFDQSxJQUFBQSxFQUFBQyxTQUFBQyxlQUFBLG9CQUNBQyxFQUFBRixTQUFBQyxlQUNBLDBCQUVBRixFQUFBSSxpQkFBQSxRQUFBLFdBQ0FDLFVBQUFDLFVBQUFDLE9BQUEsZ0JBRUFKLEVBQUFDLGlCQUFBLFFBQUEsV0FDQUMsVUFBQUMsVUFBQUMsT0FBQSxnQkFJQSxTQUFBQyxxQkFDQVAsU0FBQVEsaUJBQUEsZUFDQUMsUUFBQSxTQUFBQyxHQUNBLElBQ0FDLEVBREFELEVBQUFFLFFBQ0FELEVBQUFFLHNCQUNBSCxFQUFBTCxVQUFBUyxJQUFBLHVCQUNBQyxFQUFBTCxFQUFBTSxHQUNBaEIsU0FBQWlCLGNBQUEsUUFBQUMsT0FBQUgsRUFBQSxNQUNBSSxZQUFBUixNQU1BLFNBQUFFLHNCQUNBLElBQUFPLEVBQUFwQixTQUFBcUIsY0FBQSxRQUVBLE9BREFELEVBQUFmLFVBQUFTLElBQUEsZ0JBQ0FNLEVBR0EsU0FBQUUscUJBQ0F0QixTQUFBUSxpQkFBQSxlQUNBQyxRQUFBLFNBQUFDLEdBQ0FBLEVBQUFQLGlCQUFBLFFBQUEsV0FD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QUF6QyxVQUFBQyxPQUFBLHVCQUNBTixTQUFBaUIsY0FBQSxRQUFBWixVQUFBQyxPQUFBLG9CQUlBbUIsRUFBQXpCLFVBQUFtRixNQUFBLFdBQ0ExRCxFQUFBLGNBQUEyRCxjQUdBaEMsUUFBQTNDLFFBQUEsU0FBQWdGLEdBQ0FBLEVBQUF0RixpQkFBQSxRQUFBLFdBQ0FzRixFQUFBcEYsVUFBQUMsT0FBQSx5QkFJQXNFLE9BQUFjLFNBQUEsV0FDQTFDLGVBQ0FDLGlCQUNBQyx5QkFHQUssWUFBQXZELFNBQUFDLGVBQUEsZUFDQXVELFlBQUF4RCxTQUFBQyxlQUFBLGVBQ0F3RCxpQkFBQXpELFNBQUFDLGVBQUEsV0FFQXlELGVBQUExRCxTQUFBQyxlQUFBLGtCQUNBMEQsZ0JBQUEzRCxTQUFBQyxlQUFBLG1CQUNBMkQsZUFBQTVELFNBQUFDLGVBQUEsa0JBQ0E0RCxnQkFBQTdELFNBQUFDLGVBQUEsbUJBQ0E2RCxlQUFBOUQsU0FBQUMsZUFBQSxrQkFFQThELGVBQUEvRCxTQUFBQyxlQUFBLGtCQUNBK0QsZ0JBQUFoRSxTQUFBQyxlQUFBLG1CQUNBZ0UsZUFBQWpFLFNBQUFDLGVBQUEsa0JBQ0FpRSxnQkFBQWxFLFNBQUFDLGVBQUEsbUJBQ0FrRSxlQUFBbkUsU0FBQUMsZUFBQSxrQkFDQW1FLGtCQUFBYixZQUFBb0MsVUFDQXRCLHVCQUFBWixpQkFBQWtDLFVBRUFyQixxQkFBQVosZUFBQWlDLFVBQ0FwQixzQkFBQVosZ0JBQUFnQyxVQUNBbkIscUJBQUFaLGVBQUErQixVQUNBbEIsc0JBQUFaLGdCQUFBOEIsVUFDQWpCLHFCQUFBWixlQUFBNkIiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEFKQVgt0LfQsNC/0YDQvtGBINC00LvRjyDQvtGC0L/RgNCw0LLQutC4INGB0L7QvtCx0YnQtdC90LjQuSDQvdCwINC/0L7Rh9GC0YMsINC60L7RgtC+0YDQsNGPINGD0LrQsNC30LDQvdCwINCyINCw0LTQvNC40L3QutC1INGB0LDQudGC0LBcbiQoZnVuY3Rpb24gKCkge1xuICAkKFwiI2FwcGx5Rm9ybVwiKS5vbihcInN1Ym1pdFwiLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgbmFtZSA9ICQoXCIjdXNlck5hbWVcIikudmFsKCk7XG4gICAgdmFyIHBob25lID0gJChcIiN1c2VyUGhvbmVcIikudmFsKCk7XG4gICAgdmFyIGNvbXBhbnkgPSAkKFwiI3VzZXJDb21wYW55XCIpLnZhbCgpO1xuICAgIHZhciBhcmVhID0gJChcIiN1c2VyQXJlYVwiKS52YWwoKTtcblxuICAgICQuYWpheCh7XG4gICAgICB0eXBlOiBcInBvc3RcIixcbiAgICAgIHVybDogXCIvd3AtYWRtaW4vYWRtaW4tYWpheC5waHBcIixcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgYWN0aW9uOiBcImFqYXhfZm9ybVwiLFxuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBwaG9uZTogcGhvbmUsXG4gICAgICAgIGNvbXBhbnk6IGNvbXBhbnksXG4gICAgICAgIGFyZWE6IGFyZWEsXG4gICAgICB9LFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICQoXCIuZGFyay1sYXllclwiKS5odG1sKHJlc3BvbnNlKTtcbiAgICAgICAgY2xvc2VBcHBsaWVkRm9ybSgpO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfSk7XG59KTtcbi8vINCf0YDQvtCy0LXRgNGP0LXQvCwg0YfRgtC+INCy0YHQtSDQv9C+0LvRjyDQstCw0LbQvdGL0LUg0LfQsNC/0L7Qu9C90LXQvdGLXG4kKFwiLmZvcm0tYnV0dG9uXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICBpbnB1dEF1dGhvcml6YXRpb24oKTtcbn0pO1xuLy8g0KLQsNC6INC60LDQuiDQvtC60L3QviDQv9C+0YHQu9C1INC+0YLQv9GA0LDQstC60Lgg0Y8g0LPQtdC90LXRgNC40YDRg9GOINGB0LDQvCwg0LzQvdC1INC90YPQttC90L4g0LXQs9C+INC30LDQutGA0YvQstCw0YLRjCwg0L/QvtGN0YLQvtC80YMg0YTRg9C90LrRhtC40Y8g0LLRi9C30YvQstCw0LXRgtGB0Y8sINC60L7Qs9C00LAg0YLQvtC70YzQutC+INC/0L7Rj9Cy0LvRj9C10YLRgdGPINC+0LrQvdC+XG5mdW5jdGlvbiBjbG9zZUFwcGxpZWRGb3JtKCkge1xuICBjb25zdCBjbG9zZUFwcGxpZWRGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjbG9zZUFwcGxpZWRGb3JtXCIpO1xuICBjb25zdCBjbG9zZUFwcGxpZWRGb3JtQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgXCJjbG9zZUFwcGxpZWRGb3JtQnV0dG9uXCJcbiAgKTtcbiAgY2xvc2VBcHBsaWVkRm9ybS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGRhcmtMYXllci5jbGFzc0xpc3QudG9nZ2xlKFwianMtLWhpZGRlblwiKTtcbiAgfSk7XG4gIGNsb3NlQXBwbGllZEZvcm1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBkYXJrTGF5ZXIuY2xhc3NMaXN0LnRvZ2dsZShcImpzLS1oaWRkZW5cIik7XG4gIH0pO1xufVxuLy8g0KHQsNC80LAg0YTRg9C90LrRhtC40Y8g0L/RgNC+0LLQtdGA0LrQuCDQv9C+0LvQtdC5INC4INC00L7QsdCw0LLQu9C10L3QuNGPINC00L7Qv9C+0LvQvdC40YLQtdC70YzQvdGL0YUg0YHQstC+0LnRgdGC0LIg0L/QvtC70Y5cbmZ1bmN0aW9uIGlucHV0QXV0aG9yaXphdGlvbigpIHtcbiAgY29uc3QgaW5wdXRzQXJyYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm0taW5wdXRcIik7XG4gIGlucHV0c0FycmF5LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgaWYgKCFpbnB1dC52YWx1ZSkge1xuICAgICAgY29uc3Qgc3BhbiA9IGFkZFdhcm5pbmdFbXB0eVNwYW4oKTtcbiAgICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoXCJmb3JtLWlucHV0LS13YXJuaW5nXCIpO1xuICAgICAgY29uc3QgaW5wdXRJRCA9IGlucHV0LmlkO1xuICAgICAgY29uc3QgaW5wdXRMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtmb3I9JHtpbnB1dElEfV1gKTtcbiAgICAgIGlucHV0TGFiZWwuYXBwZW5kQ2hpbGQoc3Bhbik7XG4gICAgfVxuICB9KTtcbn1cblxuLy8g0J3QtSDRhdC+0YLQtdC7INC/0LXRgNC10LPRgNGD0LbQsNGC0Ywg0YTRg9C90LrRhtC40Y8g0L/RgNC+0LLQtdGA0LrQuCDQuCDQv9GA0L7Rh9C10LUsINC/0L7RjdGC0L7QvNGDINGB0L7Qt9C00LDQvdC40LUg0L7RgtC00LXQu9GM0L3QvtCz0L4g0YHQv9Cw0L3QsCDQstGL0L3QtdGBINC+0YLQtNC10LvRjNC90L5cbmZ1bmN0aW9uIGFkZFdhcm5pbmdFbXB0eVNwYW4oKSB7XG4gIGNvbnN0IHdhcm5pbmdFbXB0eVNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgd2FybmluZ0VtcHR5U3Bhbi5jbGFzc0xpc3QuYWRkKFwiZW1wdHktLWlucHV0XCIpO1xuICByZXR1cm4gd2FybmluZ0VtcHR5U3Bhbjtcbn1cbi8vINCa0LDQuiDRgtC+0LvRjNC60L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GMINGA0LXRiNC40LvRgdGPINCy0LLQtdGB0YLQuCDQtNCw0L3QvdGL0LUsINC10YHQu9C4INCx0YvQu9C+INC/0YDQtdC00YPQv9GA0LXQttC00LXQvdC40LUg0Y8g0YPQtNCw0LvRj9GOINC/0YDQtdC00YPQv9GA0LXQttC00LXQvdC40Y8g0LLRgdGP0LrQuNC1XG5mdW5jdGlvbiBkZWxldGVXYXJuaW5nU3BhbnMoKSB7XG4gIGNvbnN0IGlucHV0c0FycmF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtLWlucHV0XCIpO1xuICBpbnB1dHNBcnJheS5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbnB1dElEID0gaW5wdXQuaWQ7XG4gICAgICBjb25zdCBpbnB1dExhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2Zvcj0ke2lucHV0SUR9XWApO1xuICAgICAgaWYgKGlucHV0TGFiZWwucXVlcnlTZWxlY3RvcihcIi5lbXB0eS0taW5wdXRcIikpIHtcbiAgICAgICAgY29uc3QgY2VydGFpblNwYW4gPSBpbnB1dExhYmVsLnF1ZXJ5U2VsZWN0b3IoXCIuZW1wdHktLWlucHV0XCIpO1xuICAgICAgICBjZXJ0YWluU3Bhbi5yZW1vdmUoKTtcbiAgICAgICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZShcImZvcm0taW5wdXQtLXdhcm5pbmdcIik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuXG5kZWxldGVXYXJuaW5nU3BhbnMoKTtcbiIsImNvbnN0IHdpbmRvd0xvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG5jb25zb2xlLmxvZyh3aW5kb3dMb2NhdGlvbik7XG5pZiAoIXdpbmRvd0xvY2F0aW9uLmluY2x1ZGVzKFwicHJpdmFjeVwiKSkge1xuICBjb25zdCBkYXJrTGF5ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRhcmstbGF5ZXJcIik7XG4gIGNvbnN0IGFwcGx5QnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYXBwbHktYnRuXCIpO1xuICBjb25zdCBjbG9zZUZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNsb3NlRm9ybVwiKTtcbiAgY29uc3QgYXBwbHlGb3JtU2NyZWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhcHBseUZvcm1cIik7XG4gIGNvbnN0IGJ1cmdlck1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vYmlsZS1oZWFkZXJfX2J1cmdlci1tZW51XCIpO1xuICBjb25zdCBtb2JpbGVNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2JpbGUtbWVudVwiKTtcbiAgY29uc3QgYWxsRkFRcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZmFxLWJsb2NrXCIpO1xuICBjb25zdCBtb2JpbGVOYXZpZ2F0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2JpbGVOYXZpZ2F0aW9uXCIpO1xuICBjb25zdCBhbGxMaW5rcyA9IG1vYmlsZU5hdmlnYXRpb24ucXVlcnlTZWxlY3RvckFsbChcIi5uYXZpZ2F0aW9uLWxpbmtcIik7XG5cbiAgYXBwbHlCdG5zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgZGFya0xheWVyLmNsYXNzTGlzdC50b2dnbGUoXCJqcy0taGlkZGVuXCIpO1xuICAgIH0pO1xuICB9KTtcblxuICBjbG9zZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBkYXJrTGF5ZXIuY2xhc3NMaXN0LnRvZ2dsZShcImpzLS1oaWRkZW5cIik7XG4gIH0pO1xuXG4gIGJ1cmdlck1lbnUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBidXJnZXJNZW51LmNsYXNzTGlzdC50b2dnbGUoXCJtb2JpbGUtaGVhZGVyX19idXJnZXItbWVudS0tYWN0aXZlXCIpO1xuICAgIG1vYmlsZU1lbnUuY2xhc3NMaXN0LnRvZ2dsZShcIm1vYmlsZS1tZW51LS1hY3RpdmVcIik7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIikuY2xhc3NMaXN0LnRvZ2dsZShcImRpc2FibGUtYm9keVwiKTtcbiAgfSk7XG5cbiAgYWxsTGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xuICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGJ1cmdlck1lbnUuY2xhc3NMaXN0LnRvZ2dsZShcIm1vYmlsZS1oZWFkZXJfX2J1cmdlci1tZW51LS1hY3RpdmVcIik7XG4gICAgICBtb2JpbGVNZW51LmNsYXNzTGlzdC50b2dnbGUoXCJtb2JpbGUtbWVudS0tYWN0aXZlXCIpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIikuY2xhc3NMaXN0LnRvZ2dsZShcImRpc2FibGUtYm9keVwiKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuICAgICQoXCIjdXNlclBob25lXCIpLmlucHV0bWFzaygpO1xuICB9KTtcblxuICBhbGxGQVFzLmZvckVhY2goKGZhcSkgPT4ge1xuICAgIGZhcS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgZmFxLmNsYXNzTGlzdC50b2dnbGUoXCJmYXEtYmxvY2stLWFjdGl2ZVwiKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgd2luZG93Lm9uc2Nyb2xsID0gZnVuY3Rpb24gKCkge1xuICAgIHN0aWNrVGhlTWVudSgpO1xuICAgIHVuU3RpY2tUaGVNZW51KCk7XG4gICAgYWN0aXZhdGVUaGVMaXN0UG9pbnRzKCk7XG4gIH07XG5cbiAgY29uc3Qgc2VjdGlvbkxpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlY3Rpb25MaXN0XCIpO1xuICBjb25zdCBzZWN0aW9uTWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VjdGlvbk1lbnVcIik7XG4gIGNvbnN0IHNlY3Rpb25BYmlsaXRpZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvT2ZmZXJcIik7XG4gIC8vIE1FTlUgUE9JTlRTXG4gIGNvbnN0IGZpcnN0TWVudVBvaW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaXJzdE1lbnVQb2ludFwiKTtcbiAgY29uc3Qgc2Vjb25kTWVudVBvaW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWNvbmRNZW51UG9pbnRcIik7XG4gIGNvbnN0IHRoaXJkTWVudVBvaW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aGlyZE1lbnVQb2ludFwiKTtcbiAgY29uc3QgZm91cnRoTWVudVBvaW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb3VydGhNZW51UG9pbnRcIik7XG4gIGNvbnN0IGZpZnRoTWVudVBvaW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaWZ0aE1lbnVQb2ludFwiKTtcbiAgLy8gTElTVCBQT0lOVFNcbiAgY29uc3QgZmlyc3RMaXN0UG9pbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpcnN0TGlzdFBvaW50XCIpO1xuICBjb25zdCBzZWNvbmRMaXN0UG9pbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlY29uZExpc3RQb2ludFwiKTtcbiAgY29uc3QgdGhpcmRMaXN0UG9pbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRoaXJkTGlzdFBvaW50XCIpO1xuICBjb25zdCBmb3VydGhMaXN0UG9pbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvdXJ0aExpc3RQb2ludFwiKTtcbiAgY29uc3QgZmlmdGhMaXN0UG9pbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpZnRoTGlzdFBvaW50XCIpO1xuICBsZXQgc2VjdGlvbkxpc3RPZmZzZXQgPSBzZWN0aW9uTGlzdC5vZmZzZXRUb3A7XG4gIGNvbnN0IHNlY3Rpb25BYmlsaXRpZXNPZmZzZXQgPSBzZWN0aW9uQWJpbGl0aWVzLm9mZnNldFRvcDtcbiAgLy8gTUVOVSBQT0lOVFMgT0ZGU0VUU1xuICBjb25zdCBmaXJzdE1lbnVQb2ludE9mZnNldCA9IGZpcnN0TWVudVBvaW50Lm9mZnNldFRvcDtcbiAgY29uc3Qgc2Vjb25kTWVudVBvaW50T2Zmc2V0ID0gc2Vjb25kTWVudVBvaW50Lm9mZnNldFRvcDtcbiAgY29uc3QgdGhpcmRNZW51UG9pbnRPZmZzZXQgPSB0aGlyZE1lbnVQb2ludC5vZmZzZXRUb3A7XG4gIGNvbnN0IGZvdXJ0aE1lbnVQb2ludE9mZnNldCA9IGZvdXJ0aE1lbnVQb2ludC5vZmZzZXRUb3A7XG4gIGNvbnN0IGZpZnRoTWVudVBvaW50T2Zmc2V0ID0gZmlmdGhNZW51UG9pbnQub2Zmc2V0VG9wO1xuXG4gIGZ1bmN0aW9uIHN0aWNrVGhlTWVudSgpIHtcbiAgICBpZiAod2luZG93LnBhZ2VZT2Zmc2V0ID49IHNlY3Rpb25MaXN0T2Zmc2V0KSB7XG4gICAgICBzZWN0aW9uTGlzdC5jbGFzc0xpc3QuYWRkKFwic3RpY2t5XCIpO1xuICAgICAgc2VjdGlvbk1lbnUuY2xhc3NMaXN0LmFkZChcIm1lbnVQb3NpdGlvblwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VjdGlvbkxpc3QuY2xhc3NMaXN0LnJlbW92ZShcInN0aWNreVwiKTtcbiAgICAgIHNlY3Rpb25NZW51LmNsYXNzTGlzdC5yZW1vdmUoXCJtZW51UG9zaXRpb25cIik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdW5TdGlja1RoZU1lbnUoKSB7XG4gICAgaWYgKHdpbmRvdy5wYWdlWU9mZnNldCA+IHNlY3Rpb25BYmlsaXRpZXNPZmZzZXQgLSAzNTApIHtcbiAgICAgIHNlY3Rpb25MaXN0LmNsYXNzTGlzdC5yZW1vdmUoXCJzdGlja3lcIik7XG4gICAgICBzZWN0aW9uTWVudS5jbGFzc0xpc3QucmVtb3ZlKFwibWVudVBvc2l0aW9uXCIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFjdGl2YXRlVGhlTGlzdFBvaW50cygpIHtcbiAgICBpZiAod2luZG93LnBhZ2VZT2Zmc2V0ID49IGZpcnN0TWVudVBvaW50T2Zmc2V0IC0gMTAwKSB7XG4gICAgICBmaXJzdExpc3RQb2ludC5jbGFzc0xpc3QuYWRkKFwibGlzdC1pdGVtLS1hY3RpdmVcIik7XG4gICAgfSBlbHNlIGlmICh3aW5kb3cucGFnZVlPZmZzZXQgPD0gZm91cnRoTWVudVBvaW50T2Zmc2V0KSB7XG4gICAgICBmaXJzdExpc3RQb2ludC5jbGFzc0xpc3QucmVtb3ZlKFwibGlzdC1pdGVtLS1hY3RpdmVcIik7XG4gICAgfVxuICAgIGlmICh3aW5kb3cucGFnZVlPZmZzZXQgPj0gZmlmdGhNZW51UG9pbnRPZmZzZXQgLSAxMDApIHtcbiAgICAgIGZpZnRoTGlzdFBvaW50LmNsYXNzTGlzdC5hZGQoXCJsaXN0LWl0ZW0tLWFjdGl2ZVwiKTtcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5wYWdlWU9mZnNldCA8PSBmaWZ0aE1lbnVQb2ludE9mZnNldCkge1xuICAgICAgZmlmdGhMaXN0UG9pbnQuY2xhc3NMaXN0LnJlbW92ZShcImxpc3QtaXRlbS0tYWN0aXZlXCIpO1xuICAgIH1cbiAgICBpZiAod2luZG93LnBhZ2VZT2Zmc2V0ID49IHNlY29uZE1lbnVQb2ludE9mZnNldCAtIDEwMCkge1xuICAgICAgc2Vjb25kTGlzdFBvaW50LmNsYXNzTGlzdC5hZGQoXCJsaXN0LWl0ZW0tLWFjdGl2ZVwiKTtcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5wYWdlWU9mZnNldCA8PSBmb3VydGhNZW51UG9pbnRPZmZzZXQpIHtcbiAgICAgIHNlY29uZExpc3RQb2ludC5jbGFzc0xpc3QucmVtb3ZlKFwibGlzdC1pdGVtLS1hY3RpdmVcIik7XG4gICAgfVxuICAgIGlmICh3aW5kb3cucGFnZVlPZmZzZXQgPj0gdGhpcmRNZW51UG9pbnRPZmZzZXQgLSAxMDApIHtcbiAgICAgIHRoaXJkTGlzdFBvaW50LmNsYXNzTGlzdC5hZGQoXCJsaXN0LWl0ZW0tLWFjdGl2ZVwiKTtcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5wYWdlWU9mZnNldCA8PSBmb3VydGhNZW51UG9pbnRPZmZzZXQpIHtcbiAgICAgIHRoaXJkTGlzdFBvaW50LmNsYXNzTGlzdC5yZW1vdmUoXCJsaXN0LWl0ZW0tLWFjdGl2ZVwiKTtcbiAgICB9XG4gICAgaWYgKHdpbmRvdy5wYWdlWU9mZnNldCA+PSBmb3VydGhNZW51UG9pbnRPZmZzZXQgLSAxMDApIHtcbiAgICAgIGZvdXJ0aExpc3RQb2ludC5jbGFzc0xpc3QuYWRkKFwibGlzdC1pdGVtLS1hY3RpdmVcIik7XG4gICAgfSBlbHNlIGlmICh3aW5kb3cucGFnZVlPZmZzZXQgPD0gZm91cnRoTWVudVBvaW50T2Zmc2V0KSB7XG4gICAgICBmb3VydGhMaXN0UG9pbnQuY2xhc3NMaXN0LnJlbW92ZShcImxpc3QtaXRlbS0tYWN0aXZlXCIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRpYWN0aXZhdGVBbGxMaXN0UG9pbnRzKCkge1xuICAgIGNvbnN0IGxpc3RQb2luc3RBcnJheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubGlzdC1pdGVtXCIpO1xuICAgIGNvbnNvbGUubG9nKGxpc3RQb2luc3RBcnJheSk7XG4gICAgbGlzdFBvaW5zdEFycmF5LmZvckVhY2goKHBvaW50KSA9PiB7XG4gICAgICBwb2ludC5jbGFzc0xpc3QucmVtb3ZlKFwibGlzdC1pdGVtLS1hY3RpdmVcIik7XG4gICAgfSk7XG4gIH1cbn0gZWxzZSB7XG4gIC8vINCf0L7QvNC10L3Rj9GC0Ywg0YHRgtC40LvQuCBoZWFkZXIsINC10YHQu9C4INC90LAg0LHQtdC70L7QuSDRgdGC0YDQsNC90LjRhtC1IFwi0JrQvtC90YTQuNC00LXQvdGG0LjQsNC70YzQvdC+0YHRgtGMXCJcbiAgY29uc3QgZGFya0xheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kYXJrLWxheWVyXCIpO1xuICBjb25zdCBhcHBseUJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmFwcGx5LWJ0blwiKTtcbiAgY29uc3QgY2xvc2VGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjbG9zZUZvcm1cIik7XG4gIGNvbnN0IGFwcGx5Rm9ybVNjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXBwbHlGb3JtXCIpO1xuICBjb25zdCBidXJnZXJNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2JpbGUtaGVhZGVyX19idXJnZXItbWVudVwiKTtcbiAgY29uc3QgbW9iaWxlTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9iaWxlLW1lbnVcIik7XG4gIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyXCIpO1xuICBhcHBseUJ0bnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBkYXJrTGF5ZXIuY2xhc3NMaXN0LnRvZ2dsZShcImpzLS1oaWRkZW5cIik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGNsb3NlRm9ybS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGRhcmtMYXllci5jbGFzc0xpc3QudG9nZ2xlKFwianMtLWhpZGRlblwiKTtcbiAgfSk7XG5cbiAgYnVyZ2VyTWVudS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGJ1cmdlck1lbnUuY2xhc3NMaXN0LnRvZ2dsZShcIm1vYmlsZS1oZWFkZXJfX2J1cmdlci1tZW51LS1hY3RpdmVcIik7XG4gICAgbW9iaWxlTWVudS5jbGFzc0xpc3QudG9nZ2xlKFwibW9iaWxlLW1lbnUtLWFjdGl2ZVwiKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKS5jbGFzc0xpc3QudG9nZ2xlKFwiZGlzYWJsZS1ib2R5XCIpO1xuICB9KTtcbiAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuICAgICQoXCIjdXNlclBob25lXCIpLmlucHV0bWFzaygpO1xuICB9KTtcbiAgaGVhZGVyLmNsYXNzTGlzdC5hZGQoXCJoZWFkZXItLWRhcmtcIik7XG59XG4iXX0=
